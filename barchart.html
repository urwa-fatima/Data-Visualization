<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bar Chart</title>
    <link href="css/style.css" rel="stylesheet">
    <script type="text/javascript" src="/d3-7.6.1/package/dist/d3.js"></script>
    <style type="text/css">
        s.bar {
            display: inline-block;
            width: 20px;
            height: 75px;
            background-color: teal;
            margin-right: 5px;
            border: 1px solid black;
        }
    </style>
</head>

<body>

    <!-- Create a div where the graph will take place -->
    <div id="my_dataviz"></div>

    <script>
        var w = 500;
        var h = 100;

        var dataset = d3.csv("data/export_data.csv").then(dataset => {
            dataset.forEach(d => {
                d.canopy_cov = +d.canopy_cov;
                d.count = +d.count;
            });
            console.log(dataset);
            return dataset
        });

        var count = d3.map(dataset, d => d.count);

        // var dataset = [5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
        //     11, 12, 15, 20, 18, 17, 16, 18, 23, 25];

        //Create SVG element
        var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);
        console.log(dataset);

        svg.selectAll("rect")
            .data(count)
            .enter()
            .append("rect")
            .attr("x", 0)
            .attr("y", 0)
            .attr("width", 20)
            .attr("height", 100);
    </script>



    <!-- <script type="text/javascript">

        const svg = d3.select('svg');

        d3.csv("data/food.csv", function (data) {
            data.forEach(d => {
                d.Deliciousness = +d.Deliciousness;
            });
            console.log(data);
        });

        const render = data => {
            svg.selectAll('rect')
                .data(data)
                .enter()
                .append("rect")
                .attr("width", 300)
                .attr("height", 300)
        };



        d3.csv("data/export_data.csv").then(dataset => {
            dataset.forEach(d => {
                d.canopy_cov = +d.canopy_cov;
                d.count = +d.count;
            });
            console.log(dataset);
            render(dataset);
        });

    </script> -->
    <!-- 
    <script>

        var dataset = [25, 25, 25, 25, 25];
        // var dataset = [];  						 //Initialize empty array
        // for (var i = 0; i < 25; i++) {			 //Loop 25 times
        //     var newNumber = Math.floor(Math.random() * 30); // Math.random() * 30;  //New random number (0-30)
        //     dataset.push(newNumber);			 //Add new number to array
        // }

        // d3.select("body").selectAll("p")
        //     .data(dataset)
        //     .enter()
        //     .append("p")
        //     .text(function (d) {
        //         return "I can count up to " + d;
        //     })
        //     .style("color", function (d) {
        //         if (d > 15) {	//Threshold of 15
        //             return "orange";
        //         } else {
        //             return "black";
        //         }
        //     })
        var g = d3.select("body").selectAll("div")
            .data(dataset)
            .enter()
            .append("div")
            .attr("class", "bar")
            .style("height", function (d) {
                var barHeight = d * 5;
                return barHeight + "px";
            });
        // g.append("p")
        //     .text("hello");
        // g.append("svg")
        //     .attr("width", 50)
        //     .attr("height", 50)
        //     .append("circle")
        //     .attr("cx", 25)
        //     .attr("cy", 25)
        //     .attr("r", 25)
        //     .style("fill", "purple");

        // var w = 100;
        // var h = 150;

        // var svg = d3.select("body")
        //     .append("svg")
        //     .attr("width", w + '%')
        //     .attr("height", h + '%')
        //     .style("background-color", "blue");

        // var circles = svg.selectAll("circle")
        //     .data(dataset)
        //     .enter()
        //     .append("circle");

        // circles.attr("cx", function (d, i) {
        //     return (i * 50) + 25;
        // })
        //     .attr("cy", h / 2)
        //     .attr("r", function (d) {
        //         return d;
        //     });




    </script> -->

</body>

</html>